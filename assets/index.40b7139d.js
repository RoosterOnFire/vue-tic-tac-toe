import{c as e,a as t,u as r,d as l,b as a,e as s,f as n,t as c,o,g as u,F as i,r as y,h as p,i as d}from"./vendor.6defeeda.js";const m=Symbol(),C=e({plugins:[t()],state:{currentPlayer:"",playerOWinCount:0,playerXWinCount:0,isGameOver:!1,cells:[{id:0,player:"",style:""},{id:1,player:"",style:""},{id:2,player:"",style:""},{id:3,player:"",style:""},{id:4,player:"",style:""},{id:5,player:"",style:""},{id:6,player:"",style:""},{id:7,player:"",style:""},{id:8,player:"",style:""}]},getters:{isPlayerSelected:e=>""!==e.currentPlayer},mutations:{selectPlayer(e,t){e.currentPlayer=t},switchPlayer(e){e.currentPlayer="X"===e.currentPlayer?"O":"X"},updateCell(e,t){e.cells.forEach((r=>{t.id===r.id&&""===t.player&&(r.player=e.currentPlayer)}))},updateGameOver(e){const t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],r=t.map((t=>t.map((t=>e.cells[t])).every((t=>t.player===e.currentPlayer)))).indexOf(!0);e.isGameOver=-1!==r,e.isGameOver&&(t[r].map((t=>e.cells[t].style="board__cell--win")),"X"===e.currentPlayer?e.playerXWinCount+=1:"O"===e.currentPlayer&&(e.playerOWinCount+=1))},clearBoard(e){e.cells.forEach((e=>{e.player="",e.style=""}))}},actions:{updateGame({commit:e,state:t},r){t.isGameOver||(e("updateCell",r),e("updateGameOver"),t.isGameOver?setTimeout((()=>{t.isGameOver=!1,e("clearBoard")}),1700):e("switchPlayer"))},reset({commit:e,state:t}){t.currentPlayer="",t.playerOWinCount=0,t.playerXWinCount=0,t.isGameOver=!1,e("clearBoard")}}});function P(){return r(m)}var O=l({setup(){const e=P();return{oWinCount:a((()=>e.state.playerOWinCount)),xWinCount:a((()=>e.state.playerXWinCount)),resetGame(){e.dispatch("reset")}}}});const v={class:"header"},G={class:"header__counter"},b={class:"header__counter"};O.render=function(e,t,r,l,a,u){return o(),s("div",v,[n("p",G,"X: "+c(e.xWinCount),1),n("p",b,"O: "+c(e.oWinCount),1),n("button",{onClick:t[1]||(t[1]=(...t)=>e.resetGame&&e.resetGame(...t)),class:"header__reset",type:"button"}," Reset ")])};var f=l({props:{cell:{type:Object,required:!0}},setup(e){const{cell:t}=u(e),r=P();return{cell:t,updateCell:function(){r.dispatch("updateGame",t.value)}}}});f.render=function(e,t,r,l,a,n){return o(),s("button",{id:e.cell.id.toString(),class:e.cell.style,onClick:t[1]||(t[1]=(...t)=>e.updateCell&&e.updateCell(...t)),type:"button"},c(e.cell.player),11,["id"])};var _=l({components:{BoardCell:f},setup(){const e=P();return{cells:a((()=>e.state.cells))}}});const W={class:"board"};_.render=function(e,t,r,l,a,n){const c=p("BoardCell");return o(),s("main",W,[(o(!0),s(i,null,y(e.cells,(e=>(o(),s(c,{key:e.id,cell:e,class:"board__cell"},null,8,["cell"])))),128))])};var h=l({setup(){const e=P();return{selectPlayer:function(t){e.commit("selectPlayer",t)}}}});const X={class:"select-player"};h.render=function(e,t,r,l,a,c){return o(),s("main",X,[n("button",{class:"select-player__button",type:"button",onClick:t[1]||(t[1]=t=>e.selectPlayer("X"))}," X "),n("button",{class:"select-player__button",type:"button",onClick:t[2]||(t[2]=t=>e.selectPlayer("O"))}," O ")])};var g=l({components:{Header:O,SelectPlayer:h,GameBoard:_},setup(){const e=P();return{isGameRunning:a((()=>e.getters.isPlayerSelected))}}});const k={class:"app"};g.render=function(e,t,r,l,a,c){const u=p("Header"),i=p("GameBoard"),y=p("SelectPlayer");return o(),s("div",k,[n(u),e.isGameRunning?(o(),s(i,{key:0})):(o(),s(y,{key:1}))])};d(g).use(C,m).mount("#app");
